# Account 测试用例分类整理

## 1. 基础CURD操作

### 1.1 创建操作
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| A-TC-001 | 正常 | 创建基本账户 | `account: "user1", email: "test@example.com"` | 创建成功 |
| A-TC-002 | 正常 | 创建带角色关联的账户 | `roleLite: {id: 1, name: "Admin"}` | 角色关联正确 |

### 1.2 读取操作
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| A-TC-011 | 正常 | 查询账户 | 有效账户ID | 返回完整账户信息 |
| A-TC-012 | 正常 | 过滤账户(按账户名) | `account: "user1"` | 返回匹配账户 |
| A-TC-013 | 正常 | 过滤账户(按邮箱) | `email: "test@example.com"` | 返回匹配账户 |
| A-TC-014 | 正常 | 过滤账户(按命名空间) | `namespace: "ns1"` | 返回指定命名空间的账户 |

### 1.3 更新操作
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| A-TC-008 | 正常 | 更新账户信息 | `description: "新描述"` | 更新成功 |
| A-TC-009 | 正常 | 更新账户邮箱 | `email: "new@example.com"` | 邮箱更新成功 |

### 1.4 删除操作
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| A-TC-015 | 正常 | 删除账户 | 有效账户ID | 删除成功 |

## 2. 异常测试

### 2.1 创建异常
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| A-TC-005 | 异常 | 创建重复账户名 | 已存在的账户名 | 创建失败 |
| A-TC-006 | 异常 | 创建无效邮箱格式 | `email: "invalid-email"` | 创建失败 |
| A-TC-007 | 异常 | 关联不存在的角色 | `roleLite: {id: 999999}` | 创建失败 |

### 2.2 更新异常
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| A-TC-010 | 异常 | 更新为重复邮箱 | 已存在的邮箱 | 更新失败 |

## 3. 边界测试

| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| A-TC-003 | 边界 | 创建超长邮箱账户 | `email: 255字符邮箱` | 创建成功或适当处理 |
| A-TC-004 | 边界 | 创建特殊字符账户名 | `account: "user@123"` | 创建成功 |

## 4. 功能测试场景

### 场景 A1: 账户创建与角色关联
- **前置条件**: 存在有效的 Role
- **测试步骤**:
  1. 创建关联到现有 Role 的账户
  2. 验证账户信息完整性
  3. 验证角色关联正确性
  4. 测试密码加密逻辑
- **预期结果**: 账户创建成功，角色关联正确

### 场景 A2: 账户命名空间隔离
- **前置条件**: 多个命名空间
- **测试步骤**:
  1. 在不同命名空间创建同名账户
  2. 验证命名空间隔离性
  3. 测试跨命名空间查询
- **预期结果**: 命名空间正确隔离账户

### 场景 A3: 账户密码安全
- **前置条件**: 无
- **测试步骤**:
  1. 创建带密码的账户
  2. 验证密码存储安全性（加密）
  3. 测试密码验证逻辑
  4. 测试密码重置功能
- **预期结果**: 密码安全处理，验证功能正常

## 5. 测试统计

| 测试类型 | 用例数量 | 完成状态 |
|----------|----------|----------|
| 基础CURD | 9 | 待实现 |
| 异常测试 | 5 | 待实现 |
| 边界测试 | 2 | 待实现 |
| 功能场景 | 3 | 待实现 |
| **总计** | **19** | **待实现** |

## 6. 测试优先级

1. **P0 (高优先级)**: A-TC-001, A-TC-002, A-TC-011, A-TC-015 (基础功能)
2. **P1 (中优先级)**: A-TC-008, A-TC-009, A-TC-012, A-TC-013, A-TC-014 (常用功能)
3. **P2 (低优先级)**: 所有异常和边界测试用例

## 7. 依赖关系

- **依赖Role实体**: A-TC-002, A-TC-007 需要有效的Role存在
- **命名空间隔离**: A-TC-014 需要多个命名空间环境
- **密码安全**: 场景A3需要密码加密和验证功能