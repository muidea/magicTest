# Role 测试用例分类整理

## 1. 基础CURD操作

### 1.1 创建操作
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-001 | 正常 | 创建基本角色 | `name: "Admin", status: 2` | 创建成功，返回完整角色信息 |
| R-TC-002 | 正常 | 创建带权限的角色 | `privilege: [{id:1, module:"magicCas"}]` | 权限列表正确保存 |

### 1.2 读取操作
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-010 | 正常 | 查询角色 | 有效角色ID | 返回完整角色信息 |
| R-TC-012 | 正常 | 过滤角色(按名称) | `name: "Admin"` | 返回匹配的角色列表 |
| R-TC-013 | 正常 | 过滤角色(按状态) | `status: 2` | 返回启用状态的角色 |

### 1.3 更新操作
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-007 | 正常 | 更新角色信息 | `description: "新描述"` | 更新成功，字段变更 |
| R-TC-008 | 正常 | 更新角色状态 | `status: 1 (禁用)` | 状态变更成功 |

### 1.4 删除操作
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-014 | 正常 | 删除角色 | 有效角色ID | 删除成功，返回被删除角色 |

## 2. 异常测试

### 2.1 创建异常
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-005 | 异常 | 创建重复名称角色 | 使用已存在的角色名 | 创建失败，返回错误 |
| R-TC-006 | 异常 | 创建缺少必填字段角色 | `name: null` | 创建失败，验证错误 |

### 2.2 更新异常
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-009 | 异常 | 更新不存在的角色 | `id: 999999` | 更新失败，返回错误 |

### 2.3 查询异常
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-011 | 异常 | 查询不存在的角色 | `id: 999999` | 返回空或错误 |

### 2.4 删除异常
| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-015 | 异常 | 删除不存在的角色 | `id: 999999` | 删除失败，返回错误 |

## 3. 边界测试

| 用例ID | 测试类型 | 描述 | 输入数据 | 预期结果 |
|--------|----------|------|----------|----------|
| R-TC-003 | 边界 | 创建名称超长角色 | `name: 256字符字符串` | 创建失败或截断处理 |
| R-TC-004 | 边界 | 创建空描述角色 | `description: ""` | 创建成功 |

## 4. 功能测试场景

### 场景 R1: 角色创建与验证
- **前置条件**: 无
- **测试步骤**:
  1. 创建包含完整权限列表的角色
  2. 验证返回的角色包含所有必要字段
  3. 验证字段值匹配
  4. 验证权限列表正确性
- **预期结果**: 角色创建成功，所有字段验证通过

### 场景 R2: 角色状态管理
- **前置条件**: 已创建角色
- **测试步骤**:
  1. 创建状态为启用(2)的角色
  2. 更新角色状态为禁用(1)
  3. 查询角色验证状态变更
  4. 使用状态过滤查询
- **预期结果**: 状态变更正确，过滤功能正常

### 场景 R3: 角色依赖关系测试
- **前置条件**: 无
- **测试步骤**:
  1. 创建包含 `bc.Privilege` Mock 数据的角色
  2. 验证权限对象的完整性
  3. 测试权限列表为空的情况
  4. 测试权限列表包含无效数据的情况
- **预期结果**: 正确处理权限依赖关系

## 5. 测试统计

| 测试类型 | 用例数量 | 完成状态 |
|----------|----------|----------|
| 基础CURD | 9 | 待实现 |
| 异常测试 | 6 | 待实现 |
| 边界测试 | 2 | 待实现 |
| 功能场景 | 3 | 待实现 |
| **总计** | **20** | **待实现** |

## 6. 测试优先级

1. **P0 (高优先级)**: R-TC-001, R-TC-002, R-TC-010, R-TC-014 (基础功能)
2. **P1 (中优先级)**: R-TC-007, R-TC-008, R-TC-012, R-TC-013 (常用功能)
3. **P2 (低优先级)**: 所有异常和边界测试用例